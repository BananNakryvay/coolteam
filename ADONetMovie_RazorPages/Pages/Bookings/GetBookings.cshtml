@page
@model ADONetMovie_RazorPages.Pages.Bookings.GetBookingsModel
@{
}

<p>
    <a asp-page="/Bookings/CreateBooking">Create New Booking</a>
</p>
<form>
    <p>
        Search: <input type="text" asp-for="FilterCriteria" />
        <input type="submit" value="Filter" />
        <a asp-page="/Bookings/GetBookings">Back to Full List</a>
    </p>
</form>
<h4 style="color:red">List of Bookings</h4>
<form method="post">
    <table id="stable" class="table table-striped table-bordered table-sm">
        <thead>
            <tr>
                <th>
                    Id
                </th>
                <th>
                    Room ID
                </th>
                <th>
                    User ID
                </th>
                <th>
                   Date and Time
                </th>

            </tr>
        </thead>

        <tbody>

            @if (Model.Bookings != null)

                @foreach (var item in Model.Bookings)
                {

                    <tr>
                        <td>
                            @item.BookingId
                        </td>
                        <input type="hidden" name="BookingId" asp-for="@item.BookingId" />
                        <td>
                            @item.RoomId
                        </td>
                        <td>
                            @item.UserId
                        </td>
                        <td>
                            @item.Time.ToString("dd/MMMM/yyyy HH:mm")
                        </td>
                        <td>
                            <button class="btn btn-danger" asp-page-handler="cancelBooking">Cancel</button>
                        </td>
                    </tr>
                }
    </table>
</form>

